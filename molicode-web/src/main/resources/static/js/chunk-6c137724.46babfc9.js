(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c137724"],{"09ae":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Input",{attrs:{disabled:t.disabled},on:{"on-change":t.updateValue},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[a("Button",{directives:[{name:"show",rawName:"v-show",value:"headless"!=t.windowName,expression:"windowName!='headless'"}],attrs:{slot:"append",icon:"ios-search",type:"primary",disabled:t.disabled},on:{click:t.fileChooser},slot:"append"},[t._v("选择\n  ")]),a("Button",{directives:[{name:"show",rawName:"v-show",value:"headless"!=t.windowName,expression:"windowName!='headless'"}],attrs:{slot:"append",icon:"document"},on:{click:t.openFile},slot:"append"},[t._v("open")])],1)],1)},o=[],n=a("e6fd"),i=a("86b0"),r={name:"fileChooser",props:{value:{type:String,default:""},dialogType:{type:String,default:"open"},fileType:{type:String,default:"all"},fileExt:{type:String,default:""},disabled:{type:Boolean,default:!1},changeCurPath:{type:String,default:""},parentPath:{type:String,default:""}},data:function(){return{model:this.value,windowName:this.$store.state.autoCode.profile["browserWindowName"]}},watch:{value:function(t,e){this.model=t}},methods:{updateValue:function(){var t=this.model;this.$emit("input",t)},fileChooser:function(){i["a"].postSubmit(this,n["a"].urls.common.file.fileChooser,this.getRequestData(),(function(t){null!==t.value&&""!==t.value&&(this.model=t.value,this.updateValue())}),null,!1);var t=this.$store.state.autoCode.profile["browserWindowName"];"swing"===t&&this.$Message.warning({content:"文件在swing窗口中打开，请切换界面进行文件选择！",duration:5})},openFile:function(){var t=this.getRequestData();t["editFilePath"]=this.model,""!==t["editFilePath"]?i["a"].postSubmit(this,n["a"].urls.common.file.openFile,t,(function(t){this.$Message.info({content:"file open success!",duration:5})}),null,!1):this.$Message.error({content:"file path can not be empty！",duration:5})},getRequestData:function(){var t=this.parentPath;return t||(t=this.model),{dialogType:this.dialogType,fileType:this.fileType,fileExt:this.fileExt,parentPath:t,changeCurPath:this.changeCurPath}}}},l=r,c=a("2877"),m=Object(c["a"])(l,s,o,!1,null,"29042d0b",null);e["a"]=m.exports},9176:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t._l(t.selectedItems,(function(e,s){return[t.showStyle?a("Tag",{attrs:{color:null==e["cssType"]||""==e["cssType"]?"default":e["cssType"]}},[t._v(t._s(e.itemName))]):a("span",[t._v(t._s(e.itemName))]),s<t.selectedItems.length-1?a("span",[t._v(",")]):t._e()]}))],2)},o=[],n=(a("ac6a"),a("c5f6"),a("5fcb")),i=a("e6fd"),r=a("c46f"),l={name:"DictLabel",props:{value:{type:[String,Number,Array,Boolean],default:""},kind:{type:String,default:""},pid:{type:String,default:""},defValue:{type:String,default:null},defDesc:{type:String,default:""},showStyle:{type:Boolean,default:!1},localDictItems:{type:Array,default:null}},data:function(){var t=Object(n["d"])(this.value);return 0===t.length&&null!==this.defValue&&""!==this.defValue&&t.push(this.defValue),{itemValues:t,dictMap:null,selectedItems:[]}},watch:{value:function(){this.itemValues=this.buildVals(this.value),void 0!==this.dictMap&&null!==this.dictMap&&(this.selectedItems=c(this.itemValues,this.dictMap,this.defDesc))},dictMap:function(t){var e=this;e&&(this.selectedItems=null!==t?c(e["itemValues"],t,this.defDesc):[])}},mounted:function(){var t=this;if(null!==this.localDictItems&&this.localDictItems.length>0)t.loadDict(this.localDictItems);else if(null!==this.kind&&""!==this.kind){var e=this.kind;if(""!==this.pid&&(e=this.kind+"_"+this.pid),null!==this.$store&&void 0!==this.$store){var a=this.$store.dispatch(i["a"].types.LOAD_DICT_INFO,{kind:e});a.then((function(e){t.loadDict(e)}))}}},methods:{buildVals:function(t){var e=Object(n["d"])(t);return 0===e.length&&null!=this.defValue&&""!==this.defValue&&e.push(this.defValue),e},loadDict:function(t){var e={};t.forEach((function(t){e[t.itemKey]=t})),this.dictMap=e}}};function c(t,e,a){var s=[];return r.each(t,(function(t){var o=e[t];o?s.push(o):a&&s.push({itemKey:t,itemName:a})})),s}var m=l,u=a("2877"),d=Object(u["a"])(m,s,o,!1,null,null,null);e["a"]=d.exports},b816:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Select",{attrs:{clearable:t.clearable,multiple:t.multiple,disabled:t.disabled,size:t.size,filterable:t.filterable,transfer:t.transfer},on:{"on-change":t.updateValue},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.dictItems,(function(e){return a("Option",{key:e.itemKey,attrs:{value:e.itemKey}},[t._v(t._s(e.itemName))])})),1)},o=[],n=(a("ac6a"),a("c5f6"),a("e6fd")),i=a("5fcb"),r=a("c46f"),l={name:"DictSelect",props:{value:{type:[Array,String,Number,Boolean],default:""},exclusions:{type:[Object,Array],required:!1},number:{type:Boolean,default:!1},filterable:{type:Boolean,default:!1},kind:{type:String,default:""},pid:{type:String,default:""},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},transfer:{type:Boolean,default:!1},labelText:{type:Boolean,default:!1},localDictItems:{type:Array,default:null},size:{type:String,default:"default"}},data:function(){return{model:Object(i["f"])(this.value),dictItems:[]}},mounted:function(){this.refresh()},watch:{value:function(){var t=Object(i["f"])(this.value);r.isArray(t)?r.isArray(this.model)?0!==r.difference(t,this.model).length&&(this.model=t):this.model=t:t!==this.model&&(this.model=t)},exclusions:function(){this.refresh()}},methods:{exclusionsHandle:function(){if(this.exclusions&&this.exclusions.length>0&&this.dictItems&&this.dictItems.length>0){var t={};this.exclusions.forEach((function(e){t["val_"+e]="1"}));var e=[];this.dictItems.forEach((function(a){"1"!==t["val_"+a.itemKey]&&e.push(a)})),this.dictItems=e}},updateValue:function(){var t=this.model;if(this.number&&(t=Object(i["e"])(t)),this.$emit("input",t),this.$emit("on-change",t),this.labelText){var e="";this.dictItems.forEach((function(a){a.k===t&&(e=a.v)})),this.$emit("on-text",{value:t,label:e}),this.$emit("on-change",{value:t})}},refresh:function(){var t=this;if(null!==this.localDictItems&&this.localDictItems.length>0)t.loadDict(this.localDictItems);else if(null!==this.kind&&""!==this.kind){var e=this.kind;if(""!==this.pid&&(e=this.kind+"_"+this.pid),null!==this.$store&&void 0!==this.$store){var a=this.$store.dispatch(n["a"].types.LOAD_DICT_INFO,{kind:e});a.then((function(e){t.loadDict(e)}))}}},loadDict:function(t){this.dictItems=t,this.exclusionsHandle()}}},c=l,m=a("2877"),u=Object(m["a"])(c,s,o,!1,null,null,null);e["a"]=u.exports},f530:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{background:"#eee",padding:"10px"}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"md-list"}}),t._v("\n        项目列表\n      ")],1),a("autoCodeProjectList",{on:{setDefaultProject:t.setDefaultProject}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:null==t.defaultProject,expression:"defaultProject == null"}]},[a("Alert",{attrs:{type:"warning","show-icon":""}},[t._v("\n      警告\n      "),a("template",{slot:"desc"},[a("span",{staticStyle:{"font-size":"13px","font-weight":"normal"}},[t._v("\n                    您尚未设置默认项目配置信息，请先创建项目并设置默认项目相关配置信息，谢谢支持！\n                  ")])])],2)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:null!=t.defaultProject,expression:"defaultProject != null"}],staticStyle:{background:"#eee",padding:"10px"}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"md-settings"}}),t._v("\n        默认项目下配置信息 （默认项目ID:"+t._s(t.defaultProjectId)+"）\n      ")],1),a("Collapse",{attrs:{value:[0,1,2,3]}},[a("Panel",{attrs:{name:"0"}},[t._v("\n          默认项目信息\n          "),a("p",{attrs:{slot:"content"},slot:"content"},[a("default-project",{ref:"defaultProject"})],1)]),a("Panel",{attrs:{name:"1"}},[t._v("\n          工程目录设置\n          "),a("p",{attrs:{slot:"content"},slot:"content"},[a("path-config",{ref:"pathConfig"})],1)]),a("Panel",{attrs:{name:"2"}},[t._v("\n          数据库设置\n          "),a("p",{attrs:{slot:"content"},slot:"content"},[a("database-config",{ref:"databaseConfig"})],1)]),a("Panel",{attrs:{name:"3"}},[t._v("\n          业务代码设置\n          "),a("p",{attrs:{slot:"content"},slot:"content"},[a("code-config",{ref:"codeConfig"})],1)]),a("Panel",{attrs:{name:"4"}},[t._v("\n          json扩展设置(非必填)\n          "),a("p",{attrs:{slot:"content"},slot:"content"},[a("json-config",{ref:"jsonConfig"})],1)])],1)],1)],1)])},o=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{ref:"formItems",attrs:{model:t.formItems,rules:t.formRules,"label-width":120,inline:""}},[a("Row",[a("Col",{staticStyle:{"text-align":"center"},attrs:{span:"3"}},[t._v("\n        说明：\n      ")]),a("Col",{staticStyle:{"font-size":"smaller"},attrs:{span:"20"}},[t._v("\n        使用数据库表生成代码时候，需要进行配置，目前仅支持MySQL数据库，其它数据库后期进行支持,如果有需要请联系。\n        暂不支持高版本MySQL.\n      ")])],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"数据库名称",prop:"databaseName"}},[a("dict-select",{attrs:{kind:this.constants.dicts.dictKinds.DATABASE_NAME_DICT,clearable:!1},model:{value:t.formItems.databaseName,callback:function(e){t.$set(t.formItems,"databaseName",e)},expression:"formItems.databaseName"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"驱动名称",prop:"driverClass"}},[a("Input",{attrs:{maxlength:50,disabled:t.disableInput},model:{value:t.formItems.driverClass,callback:function(e){t.$set(t.formItems,"driverClass",e)},expression:"formItems.driverClass"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"链接地址",prop:"url"}},[a("Input",{attrs:{maxlength:200,disabled:t.disableInput},model:{value:t.formItems.url,callback:function(e){t.$set(t.formItems,"url",e)},expression:"formItems.url"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"用户名",prop:"username"}},[a("Input",{attrs:{maxlength:50,disabled:t.disableInput},model:{value:t.formItems.username,callback:function(e){t.$set(t.formItems,"username",e)},expression:"formItems.username"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{maxlength:50,disabled:t.disableInput},model:{value:t.formItems.password,callback:function(e){t.$set(t.formItems,"password",e)},expression:"formItems.password"}})],1)],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:t.save}},[a("Icon",{attrs:{type:"md-checkmark"}}),t._v("\n        Save\n      ")],1),a("Button",{attrs:{type:"info",loading:t.loading},on:{click:t.testConnection}},[t._v("\n        Test Connection\n      ")])],1)],1)],1)},i=[],r=a("e6fd"),l=a("b816"),c=a("86b0"),m=a("c46f"),u={driverClass:[{type:"string",required:!0,message:"驱动名称不能为空",trigger:"blur"}],url:[{type:"string",required:!0,message:"数据库链接不能为空",trigger:"blur"}],username:[{type:"string",required:!0,message:"用户名不能为空",trigger:"blur"}]},d={databaseName:"mysql",driverClass:"com.mysql.jdbc.Driver",url:"jdbc:mysql://127.0.0.1:3306/auto-code?useUnicode=true&characterEncoding=UTF8",username:"root",password:""},p={props:{defaultProjectKey:{type:String},configKey:{type:String,default:"databaseConfig"},configInfo:{type:Object,default:function(){return d}}},data:function(){return{projectKey:this.defaultProjectKey,formItems:m.clone(this.configInfo),formRules:u,constants:r["a"],disableInput:!1,loading:!1}},methods:{save:function(){var t=this;this.projectKey?this.$refs["formItems"].validate((function(e){if(!e)return!1;c["a"].postSubmit(t,r["a"].urls.conf.acConfig.save,t.getConfigData(),(function(t){this.$Message.success({content:"保存数据库配置成功",duration:3})}),null,!0)})):this.$Message.error({content:"您还没有选择项目",duration:3})},testConnection:function(){var t=this;this.projectKey?this.$refs["formItems"].validate((function(e){if(!e)return!1;c["a"].postSubmit(t,r["a"].urls.common.database.testConnection,t.getConfigData(),(function(t){this.$Message.success({content:"链接数据库成功",duration:5})}),null,!0)})):this.$Message.error({content:"您还没有选择项目",duration:3})},getConfigData:function(){return{projectKey:this.projectKey,configKey:this.configKey,configValue:JSON.stringify(this.formItems),type:2,scope:1}},notifyConfigInfo:function(t,e){this.projectKey=t,m.isEmpty(e)?this.formItems=m.clone(d):this.formItems=e}},components:{dictSelect:l["a"]}},f=p,h=a("2877"),g=Object(h["a"])(f,n,i,!1,null,null,null),y=g.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{ref:"formItems",attrs:{model:t.formItems,rules:t.formRules,"label-width":120,inline:""}},[a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"代码输出方式",prop:"outputType"}},[a("dict-radio",{attrs:{disabled:t.disableInput,kind:this.constants.dicts.dictKinds.OUTPUT_TYPE_DICT},model:{value:t.formItems.outputType,callback:function(e){t.$set(t.formItems,"outputType",e)},expression:"formItems.outputType"}})],1)],1),a("Col",{directives:[{name:"show",rawName:"v-show",value:"1"===t.formItems.outputType,expression:"formItems.outputType ==='1'"}],attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"代码输出根目录",prop:"projectOutputDir"}},[a("file-chooser",{attrs:{disabled:t.disableInput,dialogType:"directory",changeCurPath:"1"},model:{value:t.formItems.projectOutputDir,callback:function(e){t.$set(t.formItems,"projectOutputDir",e)},expression:"formItems.projectOutputDir"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"模板类型",prop:"templateType"}},[a("dict-radio",{attrs:{disabled:t.disableInput,kind:this.constants.dicts.dictKinds.TEMPLATE_TYPE_DICT},model:{value:t.formItems.templateType,callback:function(e){t.$set(t.formItems,"templateType",e)},expression:"formItems.templateType"}})],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"git"==t.formItems.templateType,expression:"formItems.templateType=='git'"}],staticStyle:{"margin-bottom":"20px"}},[a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"git url",prop:"gitUrl"}},[a("Input",{attrs:{maxlength:200,disabled:t.disableInput},model:{value:t.formItems.gitUrl,callback:function(e){t.$set(t.formItems,"gitUrl",e)},expression:"formItems.gitUrl"}},[a("Button",{attrs:{slot:"append",icon:"ios-search"},on:{click:t.repoChoose},slot:"append"},[t._v("选择")])],1),a("git-repo-list",{ref:"gitRepoList",attrs:{repoName:"templateRepo",showButton:!1},on:{itemChoose:t.chooseGitRepo}})],1),a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"branchName",prop:"branchName"}},[a("Input",{attrs:{maxlength:200,disabled:t.disableInput},model:{value:t.formItems.branchName,callback:function(e){t.$set(t.formItems,"branchName",e)},expression:"formItems.branchName"}})],1),a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"模板相对路径",prop:"templateRelativePath"}},[a("Input",{attrs:{maxlength:200,disabled:t.disableInput},model:{value:t.formItems.templateRelativePath,callback:function(e){t.$set(t.formItems,"templateRelativePath",e)},expression:"formItems.templateRelativePath"}})],1),a("Collapse",{attrs:{simple:""}},[a("Panel",{attrs:{name:"1"}},[t._v("\n          git鉴权&other\n          "),a("p",{attrs:{slot:"content"},slot:"content"},[a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"用户名",prop:"userName"}},[a("Input",{attrs:{maxlength:200,disabled:t.disableInput},model:{value:t.formItems.userName,callback:function(e){t.$set(t.formItems,"userName",e)},expression:"formItems.userName"}})],1),a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{type:"password",maxlength:200,disabled:t.disableInput},model:{value:t.formItems.password,callback:function(e){t.$set(t.formItems,"password",e)},expression:"formItems.password"}})],1)],1)])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"local"==t.formItems.templateType||null==t.formItems.templateType,expression:"formItems.templateType=='local' || formItems.templateType==null "}]},[a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"模板根目录",prop:"templateBaseDir"}},[a("file-chooser",{attrs:{disabled:t.disableInput,changeCurPath:"1",dialogType:"directory"},model:{value:t.formItems.templateBaseDir,callback:function(e){t.$set(t.formItems,"templateBaseDir",e)},expression:"formItems.templateBaseDir"}})],1)],1)],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:t.save}},[a("Icon",{attrs:{type:"md-checkmark"}}),t._v("\n        Save\n      ")],1),a("Button",{directives:[{name:"show",rawName:"v-show",value:"git"==t.formItems.templateType,expression:"formItems.templateType=='git'"}],attrs:{type:"info",loading:t.loading},on:{click:t.fetchGitRepo}},[a("Icon",{attrs:{type:"md-arrow-down"}}),t._v("\n        拉取git仓库\n      ")],1)],1)],1)],1)},b=[],v=a("09ae"),w=a("6477"),_=a("ff5b"),C=a("c46f"),k={outputType:"2",templateBaseDir:"",projectOutputDir:"",templateType:"git",gitUrl:"",branchName:"master",templateRelativePath:"",userName:"",password:""},j={props:{defaultProjectKey:{type:String},configKey:{type:String,default:"pathConfig"},configInfo:{type:Object}},data:function(){var t={templateBaseDir:[{type:"string",required:!0,message:"模板根目录不能为空",trigger:"blur"}],projectOutputDir:[{type:"string",required:!0,message:"代码输出目录不能为空",trigger:"blur"}],gitUrl:[{type:"string",required:!1,message:"gitUrl不能为空",trigger:"blur"}],branchName:[{type:"string",required:!1,message:"branchName不能为空",trigger:"blur"}]},e=this.configInfo;return C.isEmpty(e)&&(e=C.clone(k)),{projectKey:this.defaultProjectKey,formItems:e,formRules:t,constants:r["a"],disableInput:!1,loading:!1}},watch:{"formItems.templateType":function(t){this._templateTypeChange()},"formItems.outputType":function(t){this._outputTypeChange()}},computed:{windowName:function(){var t=this.$store.state.autoCode.profile["browserWindowName"];return"headless"===t&&(this.formRules.projectOutputDir[0].required=!1),t}},methods:{save:function(){var t=this;this.projectKey?this.$refs["formItems"].validate((function(e){if(!e)return t.$Message.error({content:"参数验证失败，请检验参数",duration:3}),!1;c["a"].postSubmit(t,r["a"].urls.conf.acConfig.save,t.getConfigData(),(function(t){this.$Message.success({content:"保存配置成功",duration:3})}),null,!0)})):this.$Message.error({content:"您还没有选择项目",duration:3})},getConfigData:function(){return{projectKey:this.projectKey,configKey:this.configKey,configValue:JSON.stringify(this.formItems),type:2,scope:1}},notifyConfigInfo:function(t,e){this.projectKey=t,C.isEmpty(e)?this.formItems=C.clone(k):(e.templateType||(e.templateType="git"),e.outputType||(e.outputType="2"),this.formItems=e),this._templateTypeChange(),this._outputTypeChange()},fetchGitRepo:function(){var t=this;this.$refs["formItems"].validate((function(e){if(!e)return t.$Message.error({content:"参数验证失败，请检验参数",duration:3}),!1;var a={gitUrl:t.formItems.gitUrl,branchName:t.formItems.branchName,userName:t.formItems.userName,password:t.formItems.password};c["a"].postSubmit(t,r["a"].urls.repo.git.fetchRepo,a,(function(t){this.$Message.success({content:"拉取仓库地址信息成功，耗时(s)："+t["costTime"],duration:5})}),null,!0)}))},_templateTypeChange:function(){var t="git"===this.formItems.templateType;this.formRules.gitUrl[0].required=t,this.formRules.branchName[0].required=t,this.formRules.templateBaseDir[0].required=!t},_outputTypeChange:function(){this.formRules.projectOutputDir[0].required="1"===this.formItems.outputType},chooseGitRepo:function(t){var e=this;this.$nextTick((function(){e.formItems.gitUrl=t.gitUrl,e.formItems.branchName=t.branchName,e.formItems.templateRelativePath=t.templateRelativePath}))},repoChoose:function(){this.$refs.gitRepoList.open()}},components:{dictSelect:l["a"],fileChooser:v["a"],dictRadio:w["a"],gitRepoList:_["a"]}},x=j,$=Object(h["a"])(x,I,b,!1,null,null,null),S=$.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{ref:"formItems",attrs:{model:t.formItems,rules:t.formRules,"label-width":120,inline:""}},[a("Row",[a("Col",{staticStyle:{"text-align":"center"},attrs:{span:"3"}},[t._v("\n        说明：\n      ")]),a("Col",{staticStyle:{"font-size":"smaller"},attrs:{span:"20"}},[t._v("\n        代码相关参数配置，比较基本的几个参数："),a("br"),t._v("\n        author：可以通过 ${config.author} 获取"),a("br"),t._v("\n        basePackage: 可以通过 ${config.basePackage} 获取, 主要决定代码的输出目录。"),a("br"),t._v("\n        artifactId: 可通过 ${config.artifactId} 获取，一般内容比较使用，主要是用于模块文件的前缀；"),a("br"),t._v("\n        category(应用子包名): 可通过 ${config.category} 获取，用于类的子分包；"),a("br")])],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"作者(author)",prop:"author"}},[a("Input",{attrs:{maxlength:50,disabled:t.disableInput},model:{value:t.formItems.author,callback:function(e){t.$set(t.formItems,"author",e)},expression:"formItems.author"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"基础包路径(basePackage)",prop:"basePackage"}},[a("Input",{attrs:{maxlength:200,disabled:t.disableInput},model:{value:t.formItems.basePackage,callback:function(e){t.$set(t.formItems,"basePackage",e)},expression:"formItems.basePackage"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"artifactId(前置)",prop:"artifactId"}},[a("Input",{attrs:{maxlength:200,disabled:t.disableInput},model:{value:t.formItems.artifactId,callback:function(e){t.$set(t.formItems,"artifactId",e)},expression:"formItems.artifactId"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"应用子包名",prop:"category"}},[a("Input",{attrs:{maxlength:200,disabled:t.disableInput},model:{value:t.formItems.category,callback:function(e){t.$set(t.formItems,"category",e)},expression:"formItems.category"}})],1)],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:t.save}},[a("Icon",{attrs:{type:"md-checkmark"}}),t._v("\n        Save\n      ")],1)],1)],1)],1)},P=[],D=a("c46f"),T={author:[{type:"string",required:!0,message:"作者不能为空",trigger:"blur"}],basePackage:[{type:"string",required:!0,message:"基础包路径不能为空",trigger:"blur"}],artifactId:[{type:"string",required:!0,message:"maven artifactId前置不能为空",trigger:"blur"}]},K={author:"MoliCode",basePackage:"",artifactId:"",category:""},N={props:{defaultProjectKey:{type:String},configKey:{type:String,default:"codeConfig"},configInfo:{type:Object,default:function(){return K}}},data:function(){return{projectKey:this.defaultProjectKey,formItems:D.clone(this.configInfo),formRules:T,constants:r["a"],disableInput:!1,loading:!1}},methods:{save:function(){var t=this;this.projectKey?this.$refs["formItems"].validate((function(e){if(!e)return!1;c["a"].postSubmit(t,r["a"].urls.conf.acConfig.save,t.getConfigData(),(function(t){this.$Message.success({content:"保存配置成功",duration:3})}),null,!0)})):this.$Message.error({content:"您还没有选择项目",duration:3})},getConfigData:function(){return{projectKey:this.projectKey,configKey:this.configKey,configValue:JSON.stringify(this.formItems),type:2,scope:1}},notifyConfigInfo:function(t,e){this.projectKey=t,D.isEmpty(e)?this.formItems=D.clone(K):this.formItems=e}},components:{dictSelect:l["a"]}},M=N,O=Object(h["a"])(M,R,P,!1,null,null,null),F=O.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{ref:"formItems",attrs:{model:t.formItems,rules:t.formRules,"label-width":120,inline:""}},[a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"95%"},attrs:{label:"json扩展配置",prop:"jsonConfig"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:10,maxRows:10}},model:{value:t.formItems.jsonConfig,callback:function(e){t.$set(t.formItems,"jsonConfig",e)},expression:"formItems.jsonConfig"}})],1)],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:t.save}},[a("Icon",{attrs:{type:"md-checkmark"}}),t._v("\n        Save\n      ")],1)],1)],1)],1)},B=[],q=a("c46f"),L={jsonConfig:""},A={props:{defaultProjectKey:{type:String},configKey:{type:String,default:"extConfig"},configInfo:{type:Object,default:function(){return L}}},data:function(){return{projectKey:this.defaultProjectKey,formItems:q.clone(this.configInfo),formRules:{jsonConfig:[{type:"string",required:!0,message:"json配置信息，请输入json格式字符串",trigger:"blur"}]},constants:r["a"],disableInput:!1,loading:!1}},methods:{save:function(){var t=this;this.projectKey?this.$refs["formItems"].validate((function(e){if(!e)return t.$Message.error({content:"参数验证失败，请检验参数",duration:3}),!1;c["a"].postSubmit(t,r["a"].urls.conf.acConfig.save,t.getConfigData(),(function(t){this.$Message.success({content:"保存配置成功",duration:3})}),null,!0)})):this.$Message.error({content:"您还没有选择项目",duration:3})},getConfigData:function(){return{projectKey:this.projectKey,configKey:this.configKey,configValue:JSON.stringify(this.formItems),type:2,scope:1}},notifyConfigInfo:function(t,e){this.projectKey=t,q.isEmpty(e)?this.formItems=q.clone(L):this.formItems=e}},components:{dictSelect:l["a"],fileChooser:v["a"],dictRadio:w["a"]}},z=A,V=Object(h["a"])(z,E,B,!1,null,null,null),U=V.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",{staticStyle:{"padding-bottom":"10px"}},[a("Col",{staticStyle:{"text-align":"right","padding-right":"10px"},attrs:{span:"3"}},[t._v("\n      项目ID:\n    ")]),a("Col",{attrs:{span:"6"}},[a("Tag",{attrs:{color:"green"}},[t._v("默认项目")]),t._v("\n      "+t._s(t.project.id)+"\n\n    ")],1),a("Col",{staticStyle:{"text-align":"right","padding-right":"10px"},attrs:{span:"3"}},[t._v("\n      项目key:\n    ")]),a("Col",{attrs:{span:"9"}},[t._v("\n      "+t._s(t.project.projectKey)+"\n    ")])],1),a("Row",{staticStyle:{"padding-bottom":"10px"}},[a("Col",{staticStyle:{"text-align":"right","padding-right":"10px"},attrs:{span:"3"}},[t._v("\n      项目名称:\n    ")]),a("Col",{attrs:{span:"6"}},[t._v("\n      "+t._s(t.project.name)+"\n    ")]),a("Col",{staticStyle:{"text-align":"right","padding-right":"10px"},attrs:{span:"3"}},[t._v("\n      创建时间:\n    ")]),a("Col",{attrs:{span:"9"}},[t._v("\n      "+t._s(t.project.created)+"\n    ")])],1),a("Row",{staticStyle:{"padding-bottom":"10px"}},[a("Col",{staticStyle:{"text-align":"right","padding-right":"10px"},attrs:{span:"3"}},[t._v("\n      项目详情:\n    ")]),a("Col",{attrs:{span:"21"}},[t._v("\n      "+t._s(t.project.remark)+"\n    ")])],1)],1)},Q=[],Y={name:"defaultProject",data:function(){return{project:{}}},methods:{notifyProject:function(t){this.project=t}}},G=Y,W=Object(h["a"])(G,J,Q,!1,null,"461bc9fe",null),H=W.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("add",{on:{refreshList:function(e){return t.loadData()}}}),a("edit",{ref:"editModal",on:{refreshList:function(e){return t.loadData()}}}),a("copy",{ref:"copyModal",on:{refreshList:function(e){return t.loadData()}}}),a("Row",[t._l(t.queryResult.dataList,(function(e,s){return[a("card-item",{attrs:{dataItem:e},on:{refreshList:function(e){return t.loadData()},updateItem:function(a){return t.editItem(e)},copyItem:function(a){return t.copyItem(e)}}})]}))],2),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.queryResult.pageQuery.totalCount,pageSize:t.queryResult.pageQuery.pageSize,current:t.queryResult.pageQuery.currentPageNo,"show-total":"","show-elevator":""},on:{"on-page-size-change":t.loadPageSizeChange,"on-change":t.loadPageNoChange}})],1)])],1)},Z=[],tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.showModal=!0}}},[a("Icon",{attrs:{type:"md-add"}}),t._v("\n    新增 项目\n  ")],1),a("Modal",{attrs:{title:"新增项目","mask-closable":!1},on:{"on-ok":t.save,"on-cancel":t.cancel},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"formItems",attrs:{model:t.formItems,rules:t.formRules,"label-width":120,inline:""}},[a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"90%"},attrs:{label:"名称",prop:"name"}},[a("Input",{attrs:{maxlength:50,disabled:t.disableInput},model:{value:t.formItems.name,callback:function(e){t.$set(t.formItems,"name",e)},expression:"formItems.name"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"90%"},attrs:{label:"备注",prop:"remark"}},[a("Input",{attrs:{maxlength:500,type:"textarea",autosize:{minRows:2,maxRows:5},disabled:t.disableInput},model:{value:t.formItems.remark,callback:function(e){t.$set(t.formItems,"remark",e)},expression:"formItems.remark"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"90%"},attrs:{label:"项目类型",prop:"type"}},[a("dict-select",{attrs:{kind:this.constants.dicts.dictKinds.PROJECT_TYPE_DICT,number:!0,clearable:!1},model:{value:t.formItems.type,callback:function(e){t.$set(t.formItems,"type",e)},expression:"formItems.type"}})],1)],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"default"},on:{click:t.cancel}},[t._v("取消")]),a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:t.save}},[a("Icon",{attrs:{type:"md-checkmark"}}),t._v("\n        保存\n      ")],1)],1)],1)],1)},et=[],at={name:[{type:"string",required:!0,message:"名称不能为空",trigger:"blur"}],remark:[{type:"string",required:!1,message:"备注不能为空",trigger:"blur"}],type:[{type:"integer",required:!1,message:"类型不能为空",trigger:"blur"}],creator:[{type:"string",required:!1,message:"创建人不能为空",trigger:"blur"}]},st={name:"",remark:"",projectKey:null,type:2,creator:null},ot={data:function(){return{formItems:st,formRules:at,showModal:!1,loading:!1,disableInput:!1,constants:r["a"]}},methods:{save:function(){var t=this;this.$refs["formItems"].validate((function(e){if(!e)return!1;c["a"].postSubmit(t,r["a"].urls.conf.acProject.add,t.formItems,(function(t){this.$Message.success({content:"新增成功",duration:3}),this.showModal=!1,this.$emit(r["a"].actions.common.refreshList)}))}))},cancel:function(){this.$refs["formItems"].resetFields(),this.showModal=!1}},components:{dictSelect:l["a"]}},nt=ot,it=Object(h["a"])(nt,tt,et,!1,null,null,null),rt=it.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Modal",{attrs:{title:"修改项目","mask-closable":!1},on:{"on-ok":t.save,"on-cancel":t.cancel},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"formItems",attrs:{model:t.formItems,rules:t.formRules,"label-width":120,inline:""}},[a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"90%"},attrs:{label:"id",prop:"id"}},[a("Input",{attrs:{maxlength:10,disabled:!0},model:{value:t.formItems.id,callback:function(e){t.$set(t.formItems,"id",e)},expression:"formItems.id"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"90%"},attrs:{label:"名称",prop:"name"}},[a("Input",{attrs:{maxlength:50,disabled:t.disableInput},model:{value:t.formItems.name,callback:function(e){t.$set(t.formItems,"name",e)},expression:"formItems.name"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"90%"},attrs:{label:"备注",prop:"remark"}},[a("Input",{attrs:{maxlength:500,type:"textarea",autosize:{minRows:2,maxRows:5},disabled:t.disableInput},model:{value:t.formItems.remark,callback:function(e){t.$set(t.formItems,"remark",e)},expression:"formItems.remark"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"90%"},attrs:{label:"项目key",prop:"projectKey"}},[a("Input",{attrs:{maxlength:50,disabled:!0},model:{value:t.formItems.projectKey,callback:function(e){t.$set(t.formItems,"projectKey",e)},expression:"formItems.projectKey"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"90%"},attrs:{label:"项目类型",prop:"type"}},[a("dict-select",{attrs:{kind:this.constants.dicts.dictKinds.PROJECT_TYPE_DICT,number:!0,clearable:!1},model:{value:t.formItems.type,callback:function(e){t.$set(t.formItems,"type",e)},expression:"formItems.type"}})],1)],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"default"},on:{click:t.cancel}},[t._v("取消")]),a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:t.save}},[a("Icon",{attrs:{type:"md-checkmark"}}),t._v("\n        保存\n      ")],1)],1)],1)],1)},ct=[],mt=a("c46f"),ut={name:[{type:"string",required:!0,message:"名称不能为空",trigger:"blur"}],remark:[{type:"string",required:!1,message:"备注不能为空",trigger:"blur"}],projectKey:[{type:"string",required:!1,message:"项目key不能为空",trigger:"blur"}],operator:[{type:"string",required:!1,message:"修改人不能为空",trigger:"blur"}]},dt={data:function(){return{formItems:{},formRules:ut,showModal:!1,loading:!1,disableInput:!1,constants:r["a"]}},methods:{save:function(){var t=this;this.$refs["formItems"].validate((function(e){if(!e)return!1;c["a"].postSubmit(t,r["a"].urls.conf.acProject.update,t.formItems,(function(t){this.$Message.success({content:"修改成功",duration:3}),this.showModal=!1,this.$emit(r["a"].actions.common.refreshList)}))}))},cancel:function(){this.$refs["formItems"].resetFields(),this.showModal=!1},show:function(t){this.showModal=t},editItem:function(t){this.formItems=mt.clone(t),this.show(!0)}},components:{dictSelect:l["a"]}},pt=dt,ft=Object(h["a"])(pt,lt,ct,!1,null,null,null),ht=ft.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Col",{attrs:{span:"6"}},[a("div",{staticStyle:{"padding-right":"10px"}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("#"+t._s(t.dataItem.id)+"  "+t._s(t.dataItem.name)+" ")]),a("p",{staticStyle:{height:"20px","margin-bottom":"10px"}},[a("Radio",{on:{"on-change":t.setDefault},model:{value:t.defaultCheck,callback:function(e){t.defaultCheck=e},expression:"defaultCheck"}},[a("Tag",{directives:[{name:"show",rawName:"v-show",value:t.isDefaultProject,expression:"isDefaultProject"}],attrs:{color:"green"}},[t._v("默认项目")]),a("Tag",{directives:[{name:"show",rawName:"v-show",value:!t.isDefaultProject,expression:"!isDefaultProject"}]},[t._v("非默认项目")])],1)],1),a("p",{staticStyle:{height:"20px","margin-bottom":"10px"}},[a("dict-label",{attrs:{kind:this.constants.dicts.dictKinds.PROJECT_TYPE_DICT},model:{value:t.dataItem.type,callback:function(e){t.$set(t.dataItem,"type",e)},expression:"dataItem.type"}})],1),a("p",{staticStyle:{height:"80px"}},[t._v(t._s(t.dataItem.remark))]),a("p",[a("Button",{attrs:{type:"default",size:"small"},on:{click:function(e){return t.popAction("copyItem")}}},[t._v("复制项目和配置")]),a("operate",{attrs:{item:t.dataItem,type:2},on:{refreshList:function(e){return t.popAction("refreshList")},updateItem:function(e){return t.popAction("updateItem")}}})],1)])],1)])},yt=[],It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary",size:"small"},on:{click:t.edit}},[a("Icon",{attrs:{type:"md-paper"}}),t._v("\n    修改\n  ")],1),a("Button",{attrs:{type:"error",size:"small"},on:{click:t.doDelete}},[a("Icon",{attrs:{type:"md-trash"}}),t._v("\n    删除\n  ")],1)],1)},bt=[],vt={props:{item:{type:Object,required:!0}},methods:{edit:function(){this.$emit(r["a"].actions.common.updateItem,this.item)},doDelete:function(){var t=this,e={primaryKey:this.item.id};this.$Modal.confirm({title:"删除确认",content:"您确定要执行删除操作吗？",onOk:function(){c["a"].postSubmit(t,r["a"].urls.conf.acProject.delete,e,(function(t){this.$Message.success({content:"删除成功",duration:3}),this.$emit(r["a"].actions.common.refreshList)}))}})}}},wt=vt,_t=Object(h["a"])(wt,It,bt,!1,null,null,null),Ct=_t.exports,kt=a("9176"),jt={props:{dataItem:{type:Object}},data:function(){return{defaultCheck:this.$store.state.autoCode.defaultProjectKey===this.dataItem.projectKey,constants:r["a"]}},watch:{isDefaultProject:function(t){this.defaultCheck=t}},computed:{defaultProjectKey:function(){return this.$store.state.autoCode.defaultProjectKey},isDefaultProject:function(){return this.defaultProjectKey===this.dataItem.projectKey}},methods:{popAction:function(t){this.$emit(t)},setDefault:function(){var t=this;if(this.$store){var e=this.$store.dispatch(r["a"].types.SAVE_DEFAULT_PROJECT_EXT,{projectKey:this.dataItem.projectKey,project:this.dataItem});e.then((function(e){t.$Message.success({content:"设置默认项目成功",duration:5})}))}}},components:{operate:Ct,dictLabel:kt["a"]}},xt=jt,$t=Object(h["a"])(xt,gt,yt,!1,null,null,null),St=$t.exports,Rt=a("f575"),Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Modal",{attrs:{title:"复制项目","mask-closable":!1},on:{"on-ok":t.save,"on-cancel":t.cancel},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"formItems",attrs:{model:t.formItems,rules:t.formRules,"label-width":120,inline:""}},[a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"90%"},attrs:{label:"被复制的项目id",prop:"id"}},[a("Input",{attrs:{maxlength:10,disabled:!0},model:{value:t.formItems.id,callback:function(e){t.$set(t.formItems,"id",e)},expression:"formItems.id"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"90%"},attrs:{label:"被复制的项目key",prop:"projectKey"}},[a("Input",{attrs:{maxlength:50,disabled:!0},model:{value:t.formItems.projectKey,callback:function(e){t.$set(t.formItems,"projectKey",e)},expression:"formItems.projectKey"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"90%"},attrs:{label:"名称",prop:"name"}},[a("Input",{attrs:{maxlength:50,disabled:t.disableInput},model:{value:t.formItems.name,callback:function(e){t.$set(t.formItems,"name",e)},expression:"formItems.name"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"90%"},attrs:{label:"备注",prop:"remark"}},[a("Input",{attrs:{maxlength:500,type:"textarea",autosize:{minRows:2,maxRows:5},disabled:t.disableInput},model:{value:t.formItems.remark,callback:function(e){t.$set(t.formItems,"remark",e)},expression:"formItems.remark"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"90%"},attrs:{label:"是否默认工作空间",prop:"setDefault"}},[a("dict-radio",{attrs:{disabled:t.disableInput,kind:this.constants.dicts.dictKinds.STD_YESNO_DICT},model:{value:t.setDefault,callback:function(e){t.setDefault=e},expression:"setDefault"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{staticStyle:{width:"90%"},attrs:{label:"项目类型",prop:"type"}},[a("dict-select",{attrs:{kind:this.constants.dicts.dictKinds.PROJECT_TYPE_DICT,number:!0,clearable:!1},model:{value:t.formItems.type,callback:function(e){t.$set(t.formItems,"type",e)},expression:"formItems.type"}})],1)],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"default"},on:{click:t.cancel}},[t._v("取消")]),a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:t.save}},[a("Icon",{attrs:{type:"md-checkmark"}}),t._v("\n        保存\n      ")],1)],1)],1)],1)},Dt=[],Tt=a("c46f"),Kt={name:[{type:"string",required:!0,message:"名称不能为空",trigger:"blur"}],remark:[{type:"string",required:!1,message:"备注不能为空",trigger:"blur"}],projectKey:[{type:"string",required:!1,message:"项目key不能为空",trigger:"blur"}],operator:[{type:"string",required:!1,message:"修改人不能为空",trigger:"blur"}]},Nt={data:function(){return{formItems:{},formRules:Kt,showModal:!1,loading:!1,disableInput:!1,setDefault:"1",constants:r["a"]}},methods:{save:function(){var t=this;this.$refs["formItems"].validate((function(e){if(!e)return!1;var a=t,s=t.$store.dispatch(r["a"].types.COPY_PROJECT,{project:t.formItems,_vue:t,setDefault:t.setDefault});s.then((function(e){a.$Message.success({content:"复制项目成功",duration:5}),t.showModal=!1,a.$emit(r["a"].actions.common.refreshList)}))}))},cancel:function(){this.$refs["formItems"].resetFields(),this.showModal=!1},show:function(t){this.showModal=t},editItem:function(t){this.formItems=Tt.clone(t),this.show(!0)}},components:{dictRadio:w["a"],dictSelect:l["a"]}},Mt=Nt,Ot=Object(h["a"])(Mt,Pt,Dt,!1,null,null,null),Ft=Ot.exports,Et={data:function(){return{loading:!1,queryResult:{dataList:[],pageQuery:{totalCount:0,pageCount:0,currentPageNo:1,pageSize:4}},formSearch:{id:"",name:"",type:1,status:1},constants:r["a"]}},beforeMount:function(){this.loadDefaultProject()},mounted:function(){this.loadData()},methods:{loadPageSizeChange:function(t){this.queryResult.pageQuery.pageSize=t,this.loadData()},loadPageNoChange:function(t){this.queryResult.pageQuery.pageNo=t,this.loadData()},loadData:function(){var t=this,e=c["a"].serializeObject(this.formSearch,!0,!0);e["pageSize"]=t.queryResult.pageQuery.pageSize,e["page"]=t.queryResult.pageQuery.pageNo,c["a"].postSubmit(t,r["a"].urls.conf.acProject.list,e,(function(e){t.queryResult.dataList=e.value,t.queryResult.pageQuery=e.pageQuery}),null,!0)},editItem:function(t){this.$refs.editModal.editItem(t)},copyItem:function(t){this.$refs.copyModal.editItem(t)},loadDefaultProject:function(){if(this.$store){var t=this.$store.dispatch(r["a"].types.LOAD_DEFAULT_PROJECT,{});t.then((function(t){}))}}},components:{add:rt,edit:ht,dictSelect:l["a"],dictCheckbox:Rt["a"],dictRadio:w["a"],cardItem:St,copy:Ft}},Bt=Et,qt=Object(h["a"])(Bt,X,Z,!1,null,null,null),Lt=qt.exports,At=a("c46f"),zt=["databaseConfig","pathConfig","codeConfig","jsonConfig"];function Vt(t,e){if(!1===At.isArray(t))return{};for(var a=0;a<t.length;a++){var s=t[a];if(s.configKey===e)return JSON.parse(s.configValue)}return{}}var Ut={name:"configuration",data:function(){return{projectConfigList:[]}},components:{databaseConfig:y,autoCodeProjectList:Lt,pathConfig:S,codeConfig:F,jsonConfig:U,defaultProject:H},computed:{defaultProjectId:function(){return this.defaultProject?this.defaultProject.id:"未设置"},defaultProject:function(){return this.$store.state.autoCode.defaultProject}},watch:{defaultProject:function(t){this.setDefaultProject(t)}},mounted:function(){this.$store.dispatch(r["a"].types.LOAD_SYSTEM_PROFILE,{_vue:this})},methods:{setDefaultProject:function(t){if(this.$store){var e=this,a=this.$store.dispatch(r["a"].types.LOAD_DEFAULT_PROJECT_CONFIG,{project:t});a.then((function(t){e.setProjectConfigs(t)}))}this.$refs["defaultProject"].notifyProject(t)},setProjectConfigs:function(t){t||(t=[]);for(var e=0;e<zt.length;e++){var a=this.$refs[zt[e]],s=Vt(t,a.configKey);a.notifyConfigInfo(this.defaultProject.projectKey,s)}}}},Jt=Ut,Qt=Object(h["a"])(Jt,s,o,!1,null,null,null);e["default"]=Qt.exports},f575:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("CheckboxGroup",{attrs:{clearable:t.clearable},on:{"on-change":t.updateValue},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.dictItems,(function(e){return a("Checkbox",{key:e.itemKey,attrs:{label:e.itemKey,disabled:t.disabled}},[t._v(t._s(e.itemName))])})),1)],1)},o=[],n=(a("c5f6"),a("5fcb")),i=a("e6fd"),r=a("c46f"),l={name:"DictCheckBox",props:{value:{type:[String,Number,Array,Boolean],default:[]},number:{type:Boolean,default:!1},kind:{type:String,default:""},pid:{type:String,default:""},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},transfer:{type:Boolean,default:!1},localDictItems:{type:Array,default:null}},data:function(){return{model:Object(n["d"])(this.value),dictItems:[]}},mounted:function(){var t=this;if(null!==this.localDictItems&&this.localDictItems.length>0)t.loadDict(this.localDictItems);else if(null!==this.kind&&""!==this.kind){var e=this.kind;if(""!==this.pid&&(e=this.kind+"_"+this.pid),null!==this.$store&&void 0!==this.$store){var a=this.$store.dispatch(i["a"].types.LOAD_DICT_INFO,{kind:e});a.then((function(e){t.loadDict(e)}))}}},watch:{value:function(){var t=Object(n["f"])(this.value);r.isArray(t)?r.isArray(this.model)?0!==r.difference(t,this.model).length&&(this.model=t):this.model=t:t!==this.model&&(this.model=t)}},methods:{updateValue:function(){var t=this.model;this.number&&(t=Object(n["e"])(t)),this.$emit("input",t),this.$emit("on-change",t)},loadDict:function(t){this.dictItems=t}}},c=l,m=a("2877"),u=Object(m["a"])(c,s,o,!1,null,null,null);e["a"]=u.exports},ff5b:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{directives:[{name:"show",rawName:"v-show",value:t.showButton,expression:"showButton"}],attrs:{type:"info"},on:{click:function(e){return t.open()}}},[a("Icon",{attrs:{type:"ios-play"}}),t._v("\n    选择仓库\n  ")],1),a("Modal",{attrs:{title:"git仓库信息",width:"85%"},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Table",{attrs:{columns:t.columns,data:t.repoInfo.repos,size:"small",border:!0}}),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"info",loading:t.loading},on:{click:function(e){return t.loadRepo(!0)}}},[a("Icon",{attrs:{type:"md-refresh"}}),t._v("\n        刷新\n      ")],1)],1)],1)],1)},o=[],n=a("e6fd"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary",size:"small"},on:{click:t.choose}},[a("Icon",{attrs:{type:"md-checkmark"}}),t._v("\n    选择\n  ")],1),a("Button",{attrs:{type:"info",size:"small"},on:{click:t.description}},[t._v("\n    详情\n  ")]),a("Modal",{attrs:{title:"git仓库信息",width:"600"},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{attrs:{"label-width":120,inline:""}},[a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{attrs:{label:"title",prop:"title"}},[t._v("\n            "+t._s(t.item.title)+"\n          ")])],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{attrs:{label:"gitUrl",prop:"gitUrl"}},[t._v("\n            "+t._s(t.item.gitUrl)+"\n          ")])],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{attrs:{label:"branchName",prop:"branchName"}},[t._v("\n            "+t._s(t.item.branchName)+"\n          ")])],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{attrs:{label:"作者",prop:"author"}},[t._v("\n            "+t._s(t.item.author)+"\n          ")])],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("Form-item",{attrs:{label:"主页",prop:"homePage"}},[a("a",{attrs:{href:t.item.homePage,target:"_blank"}},[t._v(t._s(t.item.homePage))])])],1)],1),a("Row",{directives:[{name:"show",rawName:"v-show",value:t.item.templateRelativePath,expression:"item.templateRelativePath"}]},[a("Col",{attrs:{span:"24"}},[a("Form-item",{attrs:{label:"模板相对路径",prop:"templateRelativePath"}},[t._v("\n            "+t._s(t.item.templateRelativePath)+"\n          ")])],1)],1)],1)],1)],1)},r=[],l={props:{item:{type:Object,required:!0}},data:function(){return{showModal:!1}},methods:{choose:function(){this.$emit(n["a"].actions.common.itemChoose,this.item)},description:function(){this.showModal=!0}}},c=l,m=a("2877"),u=Object(m["a"])(c,i,r,!1,null,null,null),d=u.exports,p={name:"gitRepoList",props:{repoName:{type:String,required:!0},showButton:{type:Boolean,required:!1,default:!0}},data:function(){var t=this;return{showModal:!1,loading:!1,repoInfo:{repos:[]},columns:[{title:"gitUrl",key:"gitUrl"},{title:"branchName",key:"branchName"},{title:"名称",key:"title"},{title:"模板相对路径",key:"templateRelativePath"},{title:"操作",key:"action",width:130,align:"center",render:function(e,a){return e(d,{props:{item:a.row},on:{itemChoose:function(e){t.itemChoose(e)}}})}}]}},mounted:function(){this.loadRepo(!1)},methods:{open:function(){this.showModal=!0},loadRepo:function(t){var e=this,a=n["a"].types.LOAD_REPO_BASE_PROJECT;"templateRepo"===this.repoName&&(a=n["a"].types.LOAD_REPO_TEMPLATE);var s=this.$store.dispatch(a,{_vue:this,refresh:t});s.then((function(t){e.repoInfo=t}))},itemChoose:function(t){this.showModal=!1,this.$emit(n["a"].actions.common.itemChoose,t)}},components:{operate:d}},f=p,h=Object(m["a"])(f,s,o,!1,null,"3680e126",null);e["a"]=h.exports}}]);